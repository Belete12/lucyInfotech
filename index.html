<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Quiz with Operation Selection and Score</title>
 
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 50px;
      text-align: center;
    }
    input, button, select {
      padding: 10px;
      font-size: 16px;
    }
    select {
      margin: 10px 0;
    }
    #score {
      font-size: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
<h1>Welcome Aman </h1>
<img src="./Image/Aman.PNG" alt="my sweet son"width="200px"  height="200px">
  <h1>Math Quiz</h1>

  <div>
    <label for="level">Level:</label>
    <select id="level" onchange="setLevel()">
      <option value="1">Beginner</option>
      <option value="2">Intermediate</option>
      <option value="3">Advanced</option>
    </select>
  </div>

  <div>
    <label for="operation">Select Operation:</label>
    <select id="operation" onchange="setOperation()">
      <option value="addition">Addition</option>
      <!-- <option value="subtraction">Subtraction</option> -->
      <option value="multiplication">Multiplication</option>
      <!-- <option value="division">Division</option> -->
    </select>
  </div>

  <p id="score">Score: 0/0</p>

  <div id="question"></div>
  <input type="number" id="answer" placeholder="Enter your answer" />
  <button onclick="checkAnswer()">Submit</button>

  <p id="result"></p>

  <script>
    let correctAnswer;
    let score = 0; // Correct answers
    let totalQuestions = 0; // Total questions answered
    let level = 1;  // Default level: Beginner
    let operation = 'addition';  // Default operation: addition

    // Set level based on dropdown selection and reset quiz
    function setLevel() {
      level = parseInt(document.getElementById('level').value);
      resetQuiz();
      generateQuestion();
    }

    // Set operation based on dropdown selection and reset quiz
    function setOperation() {
      operation = document.getElementById('operation').value;
      resetQuiz();
      generateQuestion();
    }

    // Reset the score and total questions
    function resetQuiz() {
      score = 0;
      totalQuestions = 0;
      document.getElementById('score').textContent = `Score: ${score}/0`;
    }

    // Generate a random integer within a specific range
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // Generate question based on selected operation and level
    function generateQuestion() {
      let num1, num2;
      
      // Set number ranges based on difficulty level
      if (level === 1) {  // Beginner (1-10)
        num1 = getRandomInt(1, 10);
        num2 = getRandomInt(1, 10);
      } else if (level === 2) {  // Intermediate (1-50)
        num1 = getRandomInt(1, 50);
        num2 = getRandomInt(1, 50);
      } else if (level === 3) {  // Advanced (1-100)
        num1 = getRandomInt(1, 100);
        num2 = getRandomInt(1, 100);
      }

      let questionText = `${num1} ${operationSymbol(operation)} ${num2}`;
      
      // Ensure valid subtraction and division
      if (operation === 'subtraction') {
        // Ensure num1 is greater than or equal to num2 for valid subtraction
        if (num1 < num2) {
          let temp = num1;
          num1 = num2;
          num2 = temp;
        }
        correctAnswer = num1 - num2;
      }

      if (operation === 'division') {
        // Ensure num1 is divisible by num2 (no remainder) and num1 >= num2
        num2 = getRandomInt(1, num1);  // Divisor is always smaller than or equal to the dividend
        while (num1 % num2 !== 0) {
          num2 = getRandomInt(1, num1); // Keep generating num2 until num1 is divisible by num2
        }
        correctAnswer = num1 / num2;
      }

      // Handle other operations
      if (operation === 'addition') {
        correctAnswer = num1 + num2;
      }
      if (operation === 'multiplication') {
        correctAnswer = num1 * num2;
      }

      document.getElementById('question').textContent = `What is ${questionText}?`;
      document.getElementById('result').textContent = '';
      document.getElementById('answer').value = '';
    }

    // Return the correct symbol for the selected operation
    function operationSymbol(operation) {
      switch(operation) {
        case 'addition': return '+';
        case 'subtraction': return '-';
        case 'multiplication': return '*';
        case 'division': return '/';
      }
    }

    // Check user's answer, update score, and generate a new question
    function checkAnswer() {
      const userAnswer = parseFloat(document.getElementById('answer').value);
      const resultEl = document.getElementById('result');

      if (isNaN(userAnswer)) {
        resultEl.textContent = "Please enter a valid number.";
        return;
      }

      totalQuestions++; // Increment the total question count

      if (Math.abs(userAnswer - correctAnswer) < 0.01) {
        resultEl.textContent = "✅ Correct!";
        score++;  // Increment score if correct
      } else {
        resultEl.textContent = `❌ Incorrect. The correct answer was ${correctAnswer}`;
      }

      // Update the score display in "X/Y" format
      document.getElementById('score').textContent = `Score: ${score}/${totalQuestions}`;

      // Generate a new question after answering
      generateQuestion();
    }

    // Generate the first question
    generateQuestion();
  </script>

</body>
</html>